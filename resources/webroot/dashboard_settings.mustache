{{> header}}
<body>
    <br>
    <div class="alert alert-success w-75 {{^show_success}}d-none{{/show_success}}" style="float: none; margin: 0 auto;">
        <strong>Success!</strong> The settings have been updated.</a>
    </div>
    {{#show_success}}<br>{{/show_success}}
    <div class="alert alert-danger w-75 {{^show_error}}d-none{{/show_error}}" style="float: none; margin: 0 auto;">
        <strong>Error!</strong> Please try again later.</a>
    </div>
    {{#show_error}}<br>{{/show_error}}

    <h1 align="center">Configure {{title}}!</h1>
    <div class="w-75" style="float: none; margin: 0 auto;">
        <form action="" method="post">
            <br>
            <h4>General</h4>
            <div class="form-group">
                Page Name
                <input type="text" class="form-control" name="title" value="{{title}}" required>
            </div>
            <div class="form-group">
                Locale
                <input type="text" class="form-control" name="locale_new" value="{{locale_new}}" required>
            </div>
            <div class="form-group">
                Buttons Left (one per line, Name;URL)
                <textarea class="form-control" rows="2" name="buttons_left_formatted">{{{buttons_left_formatted}}}</textarea>
            </div>
            <div class="form-group">
                  Buttons Right (one per line, Name;URL)
                  <textarea class="form-control" rows="2" name="buttons_right_formatted">{{{buttons_right_formatted}}}</textarea>
            </div>
            <br>
            <h4>Map</h4>
            <div class="form-group">
                Start Latitude
                <input type="number" class="form-control" name="start_lat" value="{{start_lat}}" step=any required>
            </div>
            <div class="form-group">
                Start Longitude
                <input type="number" class="form-control" name="start_lon" value="{{start_lon}}" step=any required>
            </div>
            <div class="form-group">
                Start Zoom
                <input type="number" class="form-control" name="start_zoom" value="{{start_zoom}}" step=1 required>
            </div>
            <div class="form-group">
                Min Zoom
                <input type="number" class="form-control" name="min_zoom" value="{{min_zoom}}" step=1 required>
            </div>
            <div class="form-group">
                Max Zoom
                <input type="number" class="form-control" name="max_zoom" value="{{max_zoom}}" step=1 required>
            </div>
            <div class="form-group">
                Tileservers (one per line, Name;URL, must include {x}, {y} and {z})
                <textarea class="form-control" rows="2" name="tileservers" required>{{{tileservers}}}</textarea>
            </div>
            <div class="form-group">
                Cities (one per line, Name;Lat;Lon;Zoom [Zoom is optional])
                <textarea class="form-control" rows="2" name="cities">{{{cities}}}</textarea>
            </div>
            <br>
            <h4>Pokemon</h4>
            <div class="form-group">
                Max Pokemon ID
                <input type="number" class="form-control" name="max_pokemon_id" value="{{max_pokemon_id}}" step=1 min="1" max="999" required>
            </div>
            <div class="form-group">
                Default time left on new pokemon (in seconds)
                <input type="number" class="form-control" name="pokemon_time_new" value="{{pokemon_time_new}}" step=1 min="60" max="3600" required>
            </div>
            <div class="form-group">
                Default time left on re-seen pokemon (in seconds)
                <input type="number" class="form-control" name="pokemon_time_old" value="{{pokemon_time_old}}" step=1 min="60" max="3600" required>
            </div>
            <div class="form-group">
                Ditto Disguises (separated by ",")
                <input type="string" class="form-control" name="ditto_disguises" value="{{ditto_disguises}}">
            </div>
            <br>
            <h4>Pokestops</h4>
            <div class="form-group">
                Lure Time
                <input type="number" class="form-control" name="pokestop_lure_time" value="{{pokestop_lure_time}}" step=1 min="1800" max="604800" required>
            </div>
            <br>
            <h4>Gyms</h4>
            <div class="form-group">
                EX-Raid Boss ID (0 = Off)
                <input type="number" class="form-control" name="ex_raid_boss_id" value="{{ex_raid_boss_id}}" step=1 min="0" max="999" required>
            </div>
            <div class="form-group">
                EX-Raid Boss Form
                <input type="number" class="form-control" name="ex_raid_boss_form" value="{{ex_raid_boss_form}}" step=1 min="0" max="255" required>
            </div>
            <br>
            <h4>Mail</h4>
            <div class="form-group">
                Base URI
                <input type="text" class="form-control" name="mailer_base_uri" value="{{mailer_base_uri}}">
            </div>
            <div class="form-group">
                Sender Name
                <input type="text" class="form-control" name="mailer_name" value="{{mailer_name}}">
            </div>
            <div class="form-group">
                Sender Email
                <input type="text" class="form-control" name="mailer_email" value="{{mailer_email}}">
            </div>
            <div class="form-group">
                SMTP Server URL (example: smtp://example.com)
                <input type="text" class="form-control" name="mailer_url" value="{{mailer_url}}">
            </div>
            <div class="form-group">
                SMTP Server Username
                <input type="text" class="form-control" name="mailer_username" value="{{mailer_username}}">
            </div>
            <div class="form-group">
                SMTP Server Password
                <input type="text" class="form-control" name="mailer_password" value="{{mailer_password}}">
            </div>
            <div class="form-group">
                Footer HTML
                <textarea class="form-control" rows="2" name="mailer_footer_html">{{{mailer_footer_html}}}</textarea>
            </div>
            <br>
            <h4>Discord</h4>
            <div class="form-group">
                Guild IDs (separated by ";")
                <input type="text" class="form-control" name="discord_guild_ids" value="{{discord_guild_ids}}">
            </div>
            <div class="form-group">
                Bot Token
                <input type="text" class="form-control" name="discord_token" value="{{discord_token}}">
            </div>
            <div class="form-group">
                Redirect URL
                <input type="text" class="form-control" name="discord_redirect_url" value="{{discord_redirect_url}}">
            </div>
            <div class="form-group">
                Client ID
                <input type="text" class="form-control" name="discord_client_id" value="{{discord_client_id}}">
            </div>
            <div class="form-group">
                Client Secret
                <input type="text" class="form-control" name="discord_client_secret" value="{{discord_client_secret}}">
            </div>
            <br>
            <h4>Google</h4>
            <div class="form-group">
                Analytics ID
                <input type="text" class="form-control" name="google_analytics_id" value="{{google_analytics_id}}">
            </div>
            <div class="form-group">
                Ad-Sense ID
                <input type="text" class="form-control" name="google_adsense_id" value="{{google_adsense_id}}">
            </div>
            <br>
            <h4>Navigation</h4>
            <div class="form-group">
                Statistics Url
                <input type="text" class="form-control" name="stats_url" value="{{stats_url}}">
            </div>
            <br>
            <h4>Device API</h4>
            <div class="form-group">
                Device Endpoint Whitelist (separated by ";", empty=No Whitelist)
                <input type="text" class="form-control" name="deviceapi_host_whitelist" value="{{deviceapi_host_whitelist}}">
            </div>
            <div class="checkbox">
            <label><input type="checkbox" name="deviceapi_host_whitelist_uses_proxy" value="deviceapi_host_whitelist_uses_proxy" {{#deviceapi_host_whitelist_uses_proxy}}checked{{/deviceapi_host_whitelist_uses_proxy}}> Device Endpoint is behind proxy (Apache/NGINX/etc.)</label>
            </div>
            <div class="form-group">
                Device Endpoint Secret (empty=No Secret)
                <input type="text" class="form-control" name="deviceapi_secret" value="{{deviceapi_secret}}">
            </div>
            <br>
            <h4>Misc</h4>
            <div class="checkbox">
                <label><input type="checkbox" name="enable_clearing" value="enable_clearing" {{#enable_clearing}}checked{{/enable_clearing}}> Enable Clearing of removed Pokestops/Gyms</label>
            </div>
            <div class="checkbox">
                <label><input type="checkbox" name="enable_register_new" value="enable_register_new" {{#enable_register_new}}checked{{/enable_register_new}}> Enable Register</label>
            </div>
            <br>
            <input type="hidden" name="_csrf" value="{{csrf}}">
            <button type="submit" class="btn btn-primary">Update</button>
        </form>
    </div>
    <br>
</body>
